<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="cell.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"
integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
crossorigin="anonymous">
</script>
</head>
<body>
    
    <div style="overflow: hidden">
        <div class="slide-container">
          <div class="slide-box">
            <img src="car1.png" draggable="false">
          </div>
          <div class="slide-box">
            <img src="car2.png" draggable="false">
          </div>
          <div class="slide-box">
            <img src="car3.png" draggable="false">
          </div>
        </div>
    </div> 
    <button class="slide-1">1</button>
    <button class="slide-2">2</button>
    <button class="slide-3">3</button>
    <button class="next">다음</button>
    <button class="before">이전</button>
</body>
<script>



var startPoint =0;
var clicked =false;
    $('.slide-box').eq(0).on('mousedown',function(e){
    startPoint= e.clientX; //시작좌표
    clicked = true;//눌렀을때
    });
    $('.slide-box').eq(0).on('mousemove',function(e){
    if(clicked==true){
      $('.slide-container').css('transform', `translateX(${e.clientX -  startPoint}px)`)
    } 
    
    });
    $('.slide-box').eq(0).on('mouseup',function(e){
    clicked = false;
    if (e.clientX - startPoint < -200) {
        $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-100vw)');      
    } else if(e.clientX - startPoint < -200) {
        $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(0vw)');
    }
    setTimeout(()=>{
        $('.slide-container').css('transition', 'none')
    }, 500)
});

    $('.slide-box').eq(1).on('mousedown',function(e){
    startPoint= e.clientX; //시작좌표
    clicked = true;//눌렀을때
    });

    $('.slide-box').eq(1).on('mousemove',function(e){
    if(clicked==true){
        $('.slide-container').css('transform', `translateX(calc(${e.clientX -  startPoint}px - 100vw))`)
    }
    });

    $('.slide-box').eq(1).on('mouseup',function(e){
    clicked = false;
    if (e.clientX - startPoint < -200) {
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-200vw)');
    } else if(e.clientX - startPoint < -200){
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-100vw)');
    } else if(e.clientX - startPoint > 200){
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(0vw)');
    } else {
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-100vw)');
    }

    setTimeout(()=>{
      $('.slide-container').css('transition', 'none')
    }, 500)
  });


    
  $('.slide-box').eq(2).on('mousedown',function(e){
    startPoint= e.clientX; //시작좌표
    clicked = true;//눌렀을때
    });

    $('.slide-box').eq(2).on('mousemove',function(e){
    if(clicked==true){
        $('.slide-container').css('transform', `translateX(calc(${e.clientX -  startPoint}px - 200vw))`)
    }
    });

    $('.slide-box').eq(2).on('mouseup',function(e){
    clicked = false;
    if (e.clientX - startPoint > 200) {
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-100vw)');
    } else {
      $('.slide-container').css('transition', 'all 0.5s').css('transform', 'translateX(-200vw)');
    }
    setTimeout(()=>{
      $('.slide-container').css('transition', 'none')
    }, 500)
  });

  

    setTimeout(()=>{
      $('.slide-container').css('transition', 'none')
    }, 500)






  




  









        var count = 1;
        document.getElementsByClassName('next')[0].addEventListener('click', function(){
            if( count == 1 ){
                document.querySelector('.slide-container').style.transform = 'translateX(-100vw)'
            count += 1;
            }else if( count == 2 ){
                document.querySelector('.slide-container').style.transform = 'translateX(-200vw)'
                count -=1;
            }            
        })
        document.getElementsByClassName('before')[0].addEventListener('click', function(){
            if( count == 1){
                count -=1;
                document.querySelector('.slide-container').style.transform = 'translateX(-100vw)'
            }else if ( count == 0) {
                document.querySelector('.slide-container').style.transform = 'translateX(0vw)'
            }
        })

        var count = 1;
        document.getElementsByClassName('next')[0].addEventListener('click', function(){
            document.querySelector('.slide-container').style.transform = 'translateX(-' + count +'00vw)'
            count += 1;
        })

        
        document.getElementsByClassName('slide-1')[0].addEventListener('click', function(){
            document.querySelector('.slide-container').style.transform = 'translateX(0vw)'
        })

        document.getElementsByClassName('slide-2')[0].addEventListener('click', function(){
            document.querySelector('.slide-container').style.transform = 'translateX(-100vw)'
        })

        document.getElementsByClassName('slide-3')[0].addEventListener('click', function(){
            document.querySelector('.slide-container').style.transform = 'translateX(-200vw)'
        })
    </script>
</html>